# Домашнее задание к занятию "5.1.


## Обязательная задача 1

Виртуализация на уровне ОС - в основном это контейнеры (Docker). Сам контейнер может обращается к ресурсам ОС, но программы, работающие внутри контейнера, могут видеть только содержимое контейнера и устройства, назначенные контейнеру. И Контейнер содержит внутри все зависимости для работы внутри контейнера.

Паравиртуализация - Этот виртуальные машины запущенные на самой ОС, доступ к оборудованию осуществляется через гипервизор. Но поскольку гостевая операционная система, работающая на гипервизоре, подготавливается к работе в виртуальной среде, то она понимает, что запущена в виртуальной среде. Например, Microsoft Hyper-V.

Полная виртуализация - Этот метод похож на паравиртуализацию: гостевая система так же использует гипервизор для обработки команд между операционной системой и аппаратным обеспечением, которое полностью виртуализуется на хосте, в результате чего гостевая ОС "не догадывается" о том, что она находится в виртуальной среде. Например KVM.


## Обязательная задача 2

Высоконагруженная база данных, чувствительная к отказу - Полная виртуализация. Так как требуется максимальная производительность и отказоустойчивость в виде кластера, например. 
        
Различные Java-приложения - Виртуализация уровня ОС (контейнеры), Хорошая масштабируемость, не требовательны к ресурсам.

Windows системы для использования Бухгалтерским отделом - Паравиртуализация, не критично к прямому доступу к аппаратной части, удобно администрировать. 
        
Системы, выполняющие высокопроизводительные расчеты на GPU - Физические сервера, для аппаратных расчетов требуется максимальный доступ к аппаратным ресурсам.


## Обязательная задача 3

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

VMWare или Windows Hyper-V Server, оба решения справятся с поставленной задачей, выбор может варьироваться от многих факторов, предрасположенность технических специалистов компании, выделяемых средств и много других. 

2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин. 
 
Если обязательно open source то тогда KVM. Если только бесплатное, то Windows Hyper-V Server должен вполне справится.


3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

Windows Hyper-V Server, бесплатное решение, максимально совместимо с Windows инфраструктурой.

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

Самое рациональное это использование Docker, минимум ресурсов для максимального покрытия тестов на разных дистрибутивах. 

### Обязательная задача 4

Смотря с каким типом виртуализации сравнивать.  Если полная виртуализация, то я так понимаю её и не получится совместить на одной машине, если ставить на разных машинах разные полные виртуализации, то возможно, но становится сложно управлять всем этим зоопарком. Если Паравиртуализация то такое возможно, допустим Hyper-V и VirtualBox спокойно уживаются на одном хосте. Но тоже в чём выгода такого решения не понятна. Как я понимаю самое грамотное это использование (Паравиртуализация и Контейнеры), можно сделать кластер серверов для отказоустойчивости а на каждой виртуальной машине, много контейнеров для масштабируемости нагрузки.

### Обновление задачи 4

Если рассматривать вариант одновременного использования в компании Hyper-V на части серверов, и КVМ на других серверах. Я думаю что ничего страшного в этом нету, так как каждый из инструментов имеет свои плюсы, минусы только в том что нужно поддерживать две разные системы со своими особенностями. Но если рассмотреть допустим такой вариант. В компании всё что связано с продуктом (разработка, тестирование, продакшен) работает на KVM и админит одна группа, а вспомогательная инфраструктура (консоли разработки, бухгалтерия, управление, AD) все работают на Hyper-V, так как 99% машин будет Windows.   

Сам лично разворачивал такой кейс на стороне Hyper-V, 2 физических сервера в разных ЦОД в режиме репликации, на каждом Hyper-V Server, и по 4 виртуальные машины, (PfSense, AD, Terminal server, SQL 1C). При этом у компании был свой программный продукт, который работал в другой среде.

